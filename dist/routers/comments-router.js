"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.commentsRouter = void 0;
const express_1 = require("express");
const commentInputValidation_1 = require("../validation/commentInputValidation");
const inputValidationMiddleware_1 = require("../middlewares/inputValidationMiddleware");
const authJWTMiddleware_1 = require("../middlewares/authJWTMiddleware");
const userIdFromJWTMiddleware_1 = require("../middlewares/userIdFromJWTMiddleware");
const composition_root_1 = require("../composition-root");
exports.commentsRouter = (0, express_1.Router)();
exports.commentsRouter.get('/:id', userIdFromJWTMiddleware_1.userIdFromJWTMiddleware, composition_root_1.commentsController.findCommentController.bind(composition_root_1.commentsController));
exports.commentsRouter.post('/', authJWTMiddleware_1.authJWTMiddleware, composition_root_1.commentsController.createCommentForPostController.bind(composition_root_1.commentsController));
exports.commentsRouter.delete('/:commentId', authJWTMiddleware_1.authJWTMiddleware, composition_root_1.commentsController.deleteCommentController.bind(composition_root_1.commentsController));
exports.commentsRouter.put('/:commentId', authJWTMiddleware_1.authJWTMiddleware, commentInputValidation_1.commentInputValidation, inputValidationMiddleware_1.inputValidationMiddleware, composition_root_1.commentsController.updateCommentForPostController.bind(composition_root_1.commentsController));
exports.commentsRouter.put('/:commentId/like-status', authJWTMiddleware_1.authJWTMiddleware, commentInputValidation_1.likeStatusInputValidation, inputValidationMiddleware_1.inputValidationMiddleware, composition_root_1.commentsController.changeCommentLikeStatusController.bind(composition_root_1.commentsController));
